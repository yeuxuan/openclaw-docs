# 00 学习路线图（专项框架版）

## 目标

把“看懂源码”变成“能自己做一个同类项目”。

## 怎么读最有效

1. 每篇先看“步骤一”  
先掌握真实调用顺序（谁先谁后）。
2. 再看“步骤二”  
重点看数据结构、关键参数、失败分支。
3. 最后做整体复盘  
确认关键保护逻辑已覆盖。

## 推荐顺序（必须按这个顺序）

1. `06-术语翻译-小白版.md`  
先把术语翻译成人话，再看实现会轻松很多。
2. `01-gateway-control-plane.md`  
先搭接入层，不然请求进不来。
3. `02-agent-execution-framework.md`  
再搭执行层，不然消息进来也跑不动。
4. `03-session-concurrency-framework.md`  
再补并发与会话隔离，不然会串线。
5. `04-tools-approval-security-framework.md`  
再补工具安全，不然有执行风险。
6. `05-lifecycle-reload-restart-shutdown-framework.md`  
最后补运维能力，不然线上不稳定。
7. `07-AI框架总原理.md`  
再从系统层跳到 AI 原理层，建立完整认知。
8. `08-上下文工程原理.md`  
掌握为什么 AI 会“记得住/忘得掉”。
9. `09-工具策略与安全原理.md`  
掌握为什么 AI 不会乱调用危险工具。
10. `10-模型回退与鲁棒性原理.md`  
掌握为什么线上出错仍能持续服务。
11. `11-子智能体与技能系统原理.md`  
掌握复杂任务拆分与技能热更新的底层逻辑。
12. `12-AI优秀实现五件套-从原理到复刻.md`  
把 AI 框架最值得复用的 5 套实现直接落成可复刻模板。
13. `13-AI记忆框架原理与实现.md`  
掌握“记忆检索 + 引用 + 注入 + 回退”如何组成可用的长期对话能力。
14. `14-AI-Hook与插件注入框架原理与实现.md`  
掌握“插件注册 + Hook 调度 + 执行链路注入 + 故障隔离”的可扩展底座。
15. `15-多插件冲突治理与优先级规范实战.md`  
掌握插件规模化后最关键的“冲突裁决规则 + 诊断闭环”。
16. `16-上下文管理实现实战.md`  
掌握“历史清洗 + 配对修复 + 窗口守卫 + 压缩恢复”的可落地实现。
17. `17-智能体执行状态机实现实战.md`  
掌握 `run -> attempt -> subscribe -> activeRun` 的状态机拆分与清理策略。
18. `18-工具策略与审批状态机实现实战.md`  
掌握“工具权限流水线 + 审批状态机 + 两阶段协议”的工程实现。
19. `19-AI记忆系统状态机实现实战.md`  
掌握“后端选择 + qmd/builtin 回退 + memory_search/memory_get”的稳定实现。
20. `20-Hook插件注入状态机实现实战.md`  
掌握“优先级调度 + 串并行执行 + 故障隔离”的插件注入核心。
21. `21-并发队列与Lane状态机实现实战.md`  
掌握“session/global 双层排队 + reset 恢复 + active run 注册表”的并发底座。

## 你实现时的硬验收标准

1. 能跑通：`connect -> req(chat.send) -> agent reply -> event broadcast`。
2. 同一 `sessionKey` 下两条消息不会乱序。
3. `exec` 高风险命令能触发审批，超时有明确结果。
4. 配置改动能区分“热更”与“重启”。
5. 关停时客户端能收到 `shutdown`。
6. 你能解释“为什么要 run/attempt/subscribe/fallback 四层分离”。
7. 你能解释“为什么工具策略必须代码层约束而不是靠提示词”。
8. 你能解释“为什么子智能体必须隔离会话并限制递归”。


